{"version":3,"sources":["src/js/components/header/header.js","src/js/data/fetch-fields.js","src/js/utilities.js","src/js/components/set-tags.js","src/js/components/components.js","src/js/data/fetch-projects.js","src/js/data/fetch-project.js","src/js/interactivity/populateGallery.js","src/js/interactivity/populateShot.js","src/js/interactivity/interactivity.js","src/js/main.js"],"names":["headerMenu","document","querySelector","spanDivider","headerMenuSearch","mainHero","dropSearch","window","scrollY","offsetHeight","style","borderBottom","classList","add","visibility","remove","addEventListener","getFields","fetch","then","res","ok","console","log","status","json","Error","data","rnd","limit","Math","floor","random","displayLoad_clearGallery","loading","gallery","pageOverlay","display","innerHTML","pos","headerFields","heroFields","setTags","sessionStorage","getItem","loadTags","fields","popular","headerTags","heroTags","i","length","forEach","tag","includes","name","push","tags","setItem","JSON","stringify","parse","li","createElement","appendChild","getProjects","params","queryString","sort","time","page","projects","getProject","id","project","sizes","populateGallery","shots","shot","imgUrl","covers","stats","likes","appreciations","views","img","Image","src","onerror","onload","alt","div","setAttribute","shotSize","imgCard","populateShot","shotName","original","owners","userImg","images","userName","display_name","map","field","currentSearch","heroSearch","tagsList","querySelectorAll","buttonChangeBg","buttonMore","selectedImg","options","handleSubmit","e","preventDefault","value","reset","handleClickMore","handleClickTag","target","matches","pointerEvents","tagName","innerText","handleClickChangeBg","bgSrc","backgroundImage","handleClickZoomImg","toggle","handleClickShots","stopPropagation","parentElement","shotId","dataset","handleClickClose","handlePressClose","keyCode","setTimeout","list"],"mappings":"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","file":"main.ee33230a.map","sourceRoot":"..","sourcesContent":["const headerMenu = document.querySelector('.header-menu')\r\nconst spanDivider = headerMenu.querySelector('.divider-line')\r\nconst headerMenuSearch = headerMenu.querySelector('.prime-search')\r\nconst mainHero = document.querySelector('.main-hero-search')\r\n\r\n// reveal header input on scroll\r\nfunction dropSearch() {\r\n  if (window.scrollY >= mainHero.offsetHeight) {\r\n    headerMenu.style.borderBottom = \"2px solid black\"\r\n    headerMenuSearch.classList.add('isShow')\r\n    spanDivider.style.visibility = \"visible\"\r\n  } else {\r\n    spanDivider.style.visibility = \"hidden\"\r\n    headerMenuSearch.classList.remove('isShow')\r\n  }\r\n}\r\n\r\nwindow.addEventListener('scroll', dropSearch)","function getFields() {\r\n  return fetch(`https://api.behance.net/v2/fields?\r\n    client_id=GrKmy2bSjvIkRhYxKWxcsqy1Msfe3Lmb`)\r\n    .then(res => {\r\n      if (res.ok) {\r\n        console.log(res.status)\r\n        return res.json()\r\n      }\r\n      throw new Error('Network response was not ok.')\r\n    })\r\n    .then(data => data)\r\n}\r\n\r\nexport { getFields }","function rnd(limit) {\r\n  return Math.floor(Math.random() * limit + 1)\r\n}\r\n\r\nfunction displayLoad_clearGallery(loading, gallery, pageOverlay) {\r\n  loading.style.display = 'block'\r\n  gallery.innerHTML = ''\r\n  pageOverlay.style.display = 'none'\r\n}\r\n\r\nexport { rnd, displayLoad_clearGallery }","import { getFields } from '../data/fetch-fields'\r\nimport { rnd } from '../utilities'\r\n\r\nconst headerMenu = document.querySelector('.header-menu')\r\nconst headerFields = headerMenu.querySelector('.tags')\r\nconst mainHero = document.querySelector('.main-hero-search')\r\nconst heroFields = mainHero.querySelector('.tags')\r\n\r\n// position of field on array to pick random tag\r\nlet pos\r\n\r\n// save to session Storage\r\nfunction setTags() {\r\n  if (!sessionStorage.getItem('tags')) {\r\n    getFields()\r\n      .then(({ fields, popular }) => {\r\n        const headerTags = []\r\n        const heroTags = []\r\n        for (let i = 0; i < 7; i++) {\r\n          pos = rnd(popular.length - 1)\r\n          headerTags.forEach(tag => {\r\n            if (tag.includes(fields[pos].name))\r\n              pos++\r\n          })\r\n          headerTags.push(fields[pos].name)\r\n          if (i > 1) {\r\n            pos = rnd(popular.length - 1)\r\n            heroTags && heroTags.forEach(tag => {\r\n              if (tag == popular[pos].name)\r\n                pos++\r\n            })\r\n            heroTags.push(popular[pos].name)\r\n          }\r\n        }\r\n        const tags = {\r\n          headerTags,\r\n          heroTags\r\n        }\r\n        sessionStorage.setItem('tags', JSON.stringify(tags))\r\n      })\r\n      .then(() => loadTags())\r\n  } else {\r\n    loadTags()\r\n  }\r\n}\r\n\r\n// load tags to header and hero\r\nfunction loadTags() {\r\n  const tags = JSON.parse(sessionStorage.getItem('tags'))\r\n  tags && tags.headerTags.forEach(tag => {\r\n    const li = document.createElement('li')\r\n    li.classList.add('tags__tag')\r\n    li.innerHTML = `${tag}`\r\n    headerFields.appendChild(li)\r\n  })\r\n  tags && tags.heroTags.forEach(tag => {\r\n    const li = document.createElement('li')\r\n    li.classList.add('tags__tag')\r\n    li.innerHTML = `${tag}`\r\n    heroFields.appendChild(li)\r\n  })\r\n}\r\n\r\nsetTags()","import './header/header'\r\nimport './set-tags'","function getProjects(params) {\r\n  const { queryString = \"random\", sort = \"featured_date\", time = \"all\", page = 1 } = params\r\n\r\n  return fetch(`https://api.behance.net/v2/projects?\r\n    q=${queryString}&\r\n    sort=${sort}&\r\n    time=${time}&\r\n    page=${page}&\r\n    client_id=GrKmy2bSjvIkRhYxKWxcsqy1Msfe3Lmb`)\r\n    .then(res => {\r\n      if (res.ok) {\r\n        console.log(res.status)\r\n        return res.json()\r\n      }\r\n      throw new Error('Network response was not ok.')\r\n    })\r\n    .then(data => data.projects)\r\n}\r\n\r\nexport { getProjects }","function getProject(id) {\r\n\r\n  return fetch(`http://www.behance.net/v2/projects/${id}?api_key=GrKmy2bSjvIkRhYxKWxcsqy1Msfe3Lmb`)\r\n    .then(res => {\r\n      if (res.ok) {\r\n        console.log(res.status)\r\n        return res.json()\r\n      }\r\n      throw new Error('Network response was not ok.')\r\n    })\r\n    .then(data => data.project)\r\n}\r\n\r\nexport { getProject }","const gallery = document.querySelector('.gallery')\r\nconst sizes = ['wide', 'tall', 'big']\r\n\r\nexport default function populateGallery(shots) {\r\n  shots.forEach(shot => {\r\n    const {\r\n      id,\r\n      name,\r\n      covers: { 808: imgUrl },\r\n      stats: { appreciations: likes } = 0,\r\n      stats: { views } = 0\r\n    } = shot\r\n\r\n    const img = new Image()\r\n    img.src = imgUrl\r\n\r\n    img.onerror = () => {\r\n      console.log('failed')\r\n    }\r\n\r\n    img.onload = () => {\r\n      img.classList.add('shot__img')\r\n      img.alt = \"oopsy\"\r\n\r\n      const div = document.createElement('div')\r\n      div.setAttribute('data-id', id)\r\n\r\n      const shotSize = Math.floor(Math.random() * 3)\r\n\r\n      div.classList.add(`shot`, `shot--${sizes[shotSize]}`)\r\n\r\n      div.innerHTML = `\r\n      <div class=\"shot__overlay\">\r\n        <div class=\"shot__overlay__name\">${name}</div>\r\n        <div class=\"shot__overlay__stats\">\r\n          <span class=\"badge badge-danger\"><i class=\"far fa-heart\"></i> ${likes}</span>\r\n          <span class=\"badge badge-warning\"><i class=\"far fa-eye\"></i> ${views}</span>\r\n        </div>\r\n      </div>\r\n    `\r\n      div.appendChild(img)\r\n      gallery.appendChild(div)\r\n    }\r\n  })\r\n\r\n}","const imgCard = document.querySelector('.img-card')\r\n\r\nexport default function populateShot(project) {\r\n  const {\r\n    name: shotName,\r\n    fields,\r\n    covers: { original },\r\n    owners: [{\r\n      images: { 50: userImg },\r\n      display_name: userName\r\n    }],\r\n    stats: {\r\n      views,\r\n      appreciations\r\n    }\r\n  } = project\r\n\r\n  imgCard.innerHTML = `\r\n    <div class=\"img-card__header\">\r\n      <div class=\"img-card__header__profile\">\r\n        <img src=\"${userImg}\" alt=\"profile\">\r\n        <span>${userName}</span>\r\n      </div>\r\n      <span class=\"img-card__header__img-name\">${shotName}</span>\r\n      <div class=\"img-card__header__stats\">\r\n        <span class=\"badge badge-danger\"><i class=\"far fa-heart\"></i> ${appreciations}</span>\r\n        <span class=\"badge badge-warning\"><i class=\"far fa-eye\"></i> ${views}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"img-card__container-img\">\r\n      <img class=\"img-card__container-img__img\" src=\"${original}\" alt=\"did not find sry T_T\">\r\n    </div>\r\n    <div class=\"img-card__footer\">\r\n      <span class=\"header-menu__tags-title\">Tags |</span>\r\n      <ul class=\"tags\">\r\n        ${fields.map(field => '<li class=\"tags__tag tags__tag--dark\">'+field+'</li>')}\r\n      </ul>\r\n      <span>Esc </span>\r\n      <i class=\"far fa-window-close\"></i>\r\n    </div>\r\n  `\r\n}","import { getProjects } from '../data/fetch-projects'\r\nimport { getProject } from '../data/fetch-project'\r\nimport populateGallery from './populateGallery'\r\nimport populateShot from './populateShot'\r\nimport { rnd, displayLoad_clearGallery } from '../utilities'\r\n\r\nconst headerMenu = document.querySelector('.header-menu')\r\nconst headerMenuSearch = headerMenu.querySelector('.prime-search')\r\nconst currentSearch = headerMenu.querySelector('.current-search')\r\nconst heroSearch = document.querySelector('.prime-search--main-hero')\r\n\r\nconst tagsList = document.querySelectorAll('.tags')\r\n\r\nconst loading = document.querySelector(\".loading\")\r\n\r\nconst gallery = document.querySelector('.gallery')\r\nconst pageOverlay = document.querySelector('.page-overlay')\r\n\r\nconst buttonChangeBg = document.querySelector('.gBtn--change-bg')\r\nconst buttonMore = document.querySelector('.gBtn--more-content')\r\n\r\nlet selectedImg = false\r\n\r\nlet options = {\r\n  queryString: '',\r\n  sort: '',\r\n  time: '',\r\n  page: ''\r\n}\r\n\r\n// fetch data on form(input) submit\r\nfunction handleSubmit(e) {\r\n  e.preventDefault()\r\n\r\n  const queryString = (this.querySelector('input[type=search]')).value\r\n  currentSearch.innerHTML = queryString\r\n  if (queryString != '') {\r\n    displayLoad_clearGallery(loading, gallery, pageOverlay)\r\n\r\n    options = {\r\n      queryString,\r\n      page: 1\r\n    }\r\n\r\n    getProjects(options)\r\n      .then(data => { populateGallery(data) })\r\n      .then(loading.style.display = \"none\")\r\n  }\r\n\r\n  this.reset()\r\n}\r\n\r\n// fetch data to add more shots to the page\r\nfunction handleClickMore(e) {\r\n  e.preventDefault()\r\n\r\n  if (options.queryString) {\r\n    options.page++\r\n    getProjects(options)\r\n      .then(data => { populateGallery(data) })\r\n  }\r\n}\r\n\r\n// fetch data on tag click\r\nfunction handleClickTag(e) {\r\n  e.preventDefault()\r\n  displayLoad_clearGallery(loading, gallery, pageOverlay)\r\n\r\n  if (e.target.matches('li')) {\r\n    this.style.pointerEvents = \"none\"\r\n\r\n    const li = e.target\r\n    const tagName = li.innerText\r\n\r\n    currentSearch.innerHTML = tagName\r\n\r\n    options = {\r\n      queryString: tagName,\r\n      page: 1\r\n    }\r\n\r\n    getProjects(options)\r\n      .then(data => { populateGallery(data) })\r\n      .then(() => {\r\n        loading.style.display = \"none\"\r\n        this.style.pointerEvents = \"auto\"\r\n      })\r\n  }\r\n}\r\n\r\n// change background\r\nfunction handleClickChangeBg() {\r\n  const shots = gallery.querySelectorAll('.shot')\r\n  const bgSrc = (shots[rnd(shots.length) - 1]).querySelector('img').src\r\n  const bg = document.querySelector('.background')\r\n  bg.style.backgroundImage = `url(${bgSrc})`\r\n}\r\n\r\n// zoom in&out img\r\nfunction handleClickZoomImg() {\r\n  this.classList.toggle('img-card__container-img__img--origin')\r\n}\r\n\r\n// opens img details window\r\nfunction handleClickShots(e) {\r\n  e.stopPropagation()\r\n  if (e.target.parentElement.matches('.shot')) {\r\n\r\n    const shot = e.target.parentElement\r\n    const shotId = shot.dataset.id\r\n\r\n    getProject(shotId)\r\n      .then(data => populateShot(data))\r\n      .then(() => {\r\n        pageOverlay.style.display = 'grid'\r\n\r\n        // take elements when they are created\r\n        selectedImg = document.querySelector('.img-card__container-img__img')\r\n        const tagsList = pageOverlay.querySelector('.tags')\r\n\r\n        // create event listener when elements exist\r\n        selectedImg.addEventListener('click', handleClickZoomImg)\r\n        tagsList.addEventListener('click', handleClickTag)\r\n      })\r\n  }\r\n}\r\n\r\n// close img details window on mouse click\r\nfunction handleClickClose(e) {\r\n  if (e.target.matches('.page-overlay') ||\r\n    e.target.matches('.fa-window-close')) {\r\n    pageOverlay.style.display = 'none'\r\n  }\r\n}\r\n\r\n// close img details window on Esc\r\nfunction handlePressClose(e) {\r\n  if (e.keyCode == 27 && selectedImg) {\r\n    pageOverlay.style.display = 'none'\r\n    selectedImg.classList.remove('img-card__container-img__img--origin')\r\n  }\r\n}\r\n\r\n// populate gallery on page load\r\nwindow.onload = () => {\r\n  displayLoad_clearGallery(loading, gallery, pageOverlay)\r\n  options.queryString = \"random\"\r\n  getProjects(options)\r\n    .then(data => { populateGallery(data) })\r\n    .then(loading.style.display = \"none\")\r\n}\r\n\r\n// show button after some time to content load\r\nsetTimeout(() => buttonMore.style.display = \"block\", 2000)\r\n\r\n\r\nheaderMenuSearch.addEventListener('submit', handleSubmit)\r\nheroSearch.addEventListener('submit', handleSubmit)\r\nbuttonMore.addEventListener('click', handleClickMore)\r\nbuttonChangeBg.addEventListener('click', handleClickChangeBg)\r\ntagsList.forEach(list => list.addEventListener('click', handleClickTag))\r\ngallery.addEventListener('click', handleClickShots)\r\npageOverlay.addEventListener('click', handleClickClose)\r\nwindow.addEventListener('keydown', handlePressClose)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//","import './components/components'\r\nimport './interactivity/interactivity'"]}